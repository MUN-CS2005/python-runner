<!DOCTYPE HTML>
<html>

<head>
    <!-- Meta Data -->
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
    <meta name="description" content="Online Python Editor With Live Syntax Checking">
    <meta name="keywords" content="Lint,Online,Editor,Python,Syntax-Checking">
    <meta name="author" content="Ed Brown">
    <title>COMP2005 Python Quiz</title>
    <!-- Favicon -->

    <style>
        p {font-size: 1.2rem;
            color: white;
        }
    </style>
</head>

<body onload="main()">
<div id="intro">
    <label>Welcome, {{ username }}</label>
    <!--Timing script-->
    <p style="color:red;" id="TimeRemaining"></p>
    	<script>
    	let SECOND = 600;   // quiz duration in seconds, currently hard coded.
		var a;
		var timeVar;
		let status=0;
		function main()
		{
			a=SECOND*1000;
			timeVar=setInterval(function(){time()},1000);
		}
		function time()
		{
			s=(a%60000)/1000;
			m=((a-s*1000)%(60000*60))/(1000*60);
			h=(a-s*1000-m*60000)/(1000*60*60);
			if(a>=0){
				document.getElementById("TimeRemaining").innerHTML = "Time Remaining "+h+" hour "+m+" minute "+s+" second ";
				a=a-1000;
			}else{
			    if(status==0){
                    status = 1;
                    showTimeOver()
                }
                document.getElementById("TimeRemaining").innerHTML = "Time Over";
                clearInterval(timeVar);
			}
		}
		function showTimeOver()
		{
	  	 	alert("Time ExceededÔºÅ");
		}
	</script>
    <!--End of Timing script-->

    <h1>Python Online Quiz</h1>
</div>
<br>
<div>

    <form action="/run_code" method="POST">
        <textarea name="codestuff" id="coding" rows="25" cols="80">{{ code }}</textarea>
        <br>
        <button type="submit" id="run">RTun</button>
    </form>
    <br>
    <div id="output">
        <pre>{{ output }}</pre>
    </div>
    <br>
</div>
</body>
</html>
